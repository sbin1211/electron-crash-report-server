<AppBar path={props.path} />

<main>
  <svelte:component this={Page} {...props} />
</main>

<script type="module">
export default {
  components: {
    AppBar: "../components/app-bar.html",
  },

  oncreate() {
    this.store.compute("applications", ["reports"], reports =>
      reports
        // eslint-disable-next-line no-underscore-dangle
        .map(report => report.body._productName)
        .filter(item => item != null)
        .filter(item => item.toString().trim().length)
        .filter(item => !!item)
        .sort()
        .reduce((a, b) => {
          if (a.length === 0 || a[a.length - 1] !== b) a.push(b);
          return a;
        }, [])
    );
  },
};
</script>

<style>
main {
  margin: 0 auto;
  width: 45rem;
}
</style>
